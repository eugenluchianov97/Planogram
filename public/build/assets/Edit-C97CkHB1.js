import{D as v}from"./DashboardLayout-CbK7N0V9.js";import{Z as y,p as l,e as w,o as _,b as r,w as m,a as e,i as k,l as d,g as a,q as p,y as V,z as B,F as C,s as q}from"./app-DoIGVFwv.js";import{S as D}from"./sweetalert2-CSiI7rv6.js";import{I as E}from"./IError-gG1LXeg_.js";import{C as L}from"./vue-select-dStCMpHa.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";const I={components:{DashboardLayout:v,vSelect:L,IError:E,Head:y},props:{shops:{type:Array,default:[]},admin:{type:Object,default:{}}},data(){return{item:{name:"",login:"",password:"",shops:[]},errors:[]}},mounted(){this.item=this.admin},methods:{submit(){q.put(route("managers.update",this.item.id),this.item).then(n=>{D.fire({title:"Пользователь успешно создан",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,icon:"success",toast:!0,position:"top-end"}).then(s=>{window.location.href=route("managers.index")})}).catch(n=>{console.log(n),this.errors=n.response.data.errors})}}},S={class:""},U={class:""},N={class:""},j={class:""},F=["required"],M={class:"col-span-2 border-t-2 pt-3"},P={class:"flex items-center justify-end gap-x-3"},T=["href"];function z(n,s,u,A,t,f){const c=l("Head"),i=l("IError"),b=l("v-select"),g=l("Link"),h=l("DashboardLayout");return _(),w(C,null,[r(c,{title:"Редактирование"}),r(h,null,{default:m(()=>[s[12]||(s[12]=e("div",{class:"mb-6"},[e("h2",{class:"font-bold text-xl"},"Редактирование")],-1)),e("form",{class:"sm:grid sm:grid-cols-2 gap-6",onSubmit:s[6]||(s[6]=k(o=>f.submit(),["prevent"]))},[e("div",S,[s[7]||(s[7]=e("label",{class:"block",for:""},[a("Имя:"),e("span",{class:"font-bold text-red-600"},"*")],-1)),d(e("input",{type:"text",class:"form-controls",required:"","onUpdate:modelValue":s[0]||(s[0]=o=>t.item.name=o)},null,512),[[p,t.item.name]]),r(i,{name:"name",errors:t.errors},null,8,["errors"])]),e("div",U,[s[8]||(s[8]=e("label",{class:"block",for:""},[a("Логин:"),e("span",{class:"font-bold text-red-600"},"*")],-1)),d(e("input",{type:"text",class:"form-controls",required:"","onUpdate:modelValue":s[1]||(s[1]=o=>t.item.login=o),autocomplete:"off"},null,512),[[p,t.item.login]]),r(i,{name:"login",errors:t.errors},null,8,["errors"])]),e("div",N,[s[9]||(s[9]=e("label",{class:"block",for:""},"Пароль:",-1)),d(e("input",{type:"password",class:"form-controls","onUpdate:modelValue":s[2]||(s[2]=o=>t.item.password=o),minlength:"8",onClick:s[3]||(s[3]=o=>o.target.type="text"),onBlur:s[4]||(s[4]=o=>o.target.type="password"),autocomplete:"off"},null,544),[[p,t.item.password]]),r(i,{name:"password",errors:t.errors},null,8,["errors"])]),e("div",j,[s[10]||(s[10]=e("label",{class:"block",for:""},[a("Выберите торговые точки:"),e("span",{class:"font-bold text-red-600"},"*")],-1)),r(b,{options:u.shops,label:"name",searchable:!0,multiple:"",clearable:!1,modelValue:t.item.shops,"onUpdate:modelValue":s[5]||(s[5]=o=>t.item.shops=o)},{search:m(({attributes:o,events:x})=>[e("input",V({class:"vs__search",required:t.item.shops.length===0},o,B(x,!0)),null,16,F)]),_:1},8,["options","modelValue"]),r(i,{name:"shops",errors:t.errors},null,8,["errors"])]),e("div",M,[e("div",P,[r(g,{class:"dash-btn !bg-gray-300 !text-gray-800",href:n.route("managers.index")},{default:m(()=>s[11]||(s[11]=[a("Назад")])),_:1},8,["href"]),e("button",{class:"dash-btn",href:n.route("managers.index")}," Сохранить ",8,T)])])],32)]),_:1})],64)}const R=H(I,[["render",z]]);export{R as default};
