import{d as n,e as u,o as d,b as s,u as w,Z as _,w as c,f as b,a as o,t as x,i as V,n as h,g as k,F as y}from"./app-DoIGVFwv.js";import{A as B}from"./AuthenticationCard-DRsI4eOR.js";import{_ as C}from"./Checkbox-Dw2lgJfH.js";import{_ as f,a as p}from"./TextInput-CYZrXUNZ.js";import{_ as g}from"./InputLabel-CJi_V4uU.js";import{_ as S}from"./PrimaryButton-sVJZeDjJ.js";/* empty css                        */import{S as $}from"./sweetalert2-CSiI7rv6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={key:0,class:"mb-4 font-medium text-sm text-green-600"},U={class:"mt-4"},j={class:"block mt-4"},q={class:"flex items-center"},A={class:"flex items-center justify-end mt-4"},T={__name:"Login",props:{canResetPassword:Boolean,status:String},setup(i){const t=n({login:"",password:"",remember:!1}),m=n(!1),l=n({}),v=()=>{m.value=!0,l.value={},axios.post(route("login.store"),t.value).then(a=>{$.fire({title:"Успешно",text:"Вы успешно вошли в систему",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,icon:"success",toast:!0,position:"top-end"}),window.location.href=route("dashboard")}).catch(a=>{a.response.data.errors&&(Object.keys(a.response.data.errors).forEach(e=>{l.value[e]=a.response.data.errors[e][0]}),console.log(l.value)),(a.response.status==401||a.response.status==419)&&(window.location.href=route("login"))}).finally(()=>{m.value=!1})};return(a,e)=>(d(),u(y,null,[s(w(_),{title:"Войти"}),s(B,null,{default:c(()=>[i.status?(d(),u("div",N,x(i.status),1)):b("",!0),o("form",{onSubmit:V(v,["prevent"])},[o("div",null,[s(g,{for:"login",value:"Логин"}),s(f,{id:"login",modelValue:t.value.login,"onUpdate:modelValue":e[0]||(e[0]=r=>t.value.login=r),type:"text",class:"mt-1 block w-full",required:"",autofocus:"",autocomplete:"username"},null,8,["modelValue"]),s(p,{class:"mt-2",message:l.value.login},null,8,["message"])]),o("div",U,[s(g,{for:"password",value:"Пароль"}),s(f,{id:"password",modelValue:t.value.password,"onUpdate:modelValue":e[1]||(e[1]=r=>t.value.password=r),type:"password",class:"mt-1 block w-full",required:"",autocomplete:"current-password"},null,8,["modelValue"]),s(p,{class:"mt-2",message:l.value.password},null,8,["message"])]),o("div",j,[o("label",q,[s(C,{checked:t.value.remember,"onUpdate:checked":e[2]||(e[2]=r=>t.value.remember=r),name:"remember"},null,8,["checked"]),e[3]||(e[3]=o("span",{class:"ms-2 text-sm text-gray-600"},"Запомнить меня",-1))])]),o("div",A,[s(S,{class:h(["ms-4",{"opacity-25":t.value.processing}]),disabled:t.value.processing},{default:c(()=>e[4]||(e[4]=[k(" Войти ")])),_:1},8,["class","disabled"])])],32)]),_:1})],64))}};export{T as default};
