import{D as _}from"./DashboardLayout-CbK7N0V9.js";import{Z as y,p as a,e as h,o as v,b as l,w as f,a as s,i as w,l as m,g as d,q as p,F as k,s as D,x as V}from"./app-DoIGVFwv.js";import{S as B}from"./sweetalert2-CSiI7rv6.js";import{I}from"./IError-gG1LXeg_.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E={components:{DashboardLayout:_,IError:I,Head:y},props:{roles:{type:Array,default:[]},admin:{type:Object,default:{}}},data(){return{item:{name:"",login:"",password:"",telegram_chat_id:null},errors:[]}},mounted(){this.item=this.admin},methods:{changeImage(o,e){if(o.target.files.length>0){var n=o.target;if(n.files&&n.files[0]){var u=new FileReader;u.onload=t=>{this.item.image=t.target.result},u.readAsDataURL(n.files[0])}}},submit(){D.put(route("admins.update",this.admin.id),this.item).then(o=>{B.fire({title:"Администратор успешно создан",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,icon:"success",toast:!0,position:"top-end"}),V.visit(route("admins.index"),{replace:!0})}).catch(o=>{this.errors=o.response.data.errors})}}},U={class:""},C={class:""},F={class:""},q={class:""},H={class:"col-span-2 border-t-2 pt-3"},N={class:"flex items-center justify-end gap-x-3"},S=["href"];function T(o,e,n,u,t,g){const b=a("Head"),i=a("IError"),c=a("Link"),x=a("DashboardLayout");return v(),h(k,null,[l(b,{title:"Редактировать администратор"}),l(x,null,{default:f(()=>[e[12]||(e[12]=s("div",{class:"mb-6"},[s("h2",{class:"font-bold text-xl"},"Редактировать администратор")],-1)),s("form",{class:"sm:grid sm:grid-cols-2 gap-6",onSubmit:e[6]||(e[6]=w(r=>g.submit(),["prevent"]))},[s("div",U,[e[7]||(e[7]=s("label",{class:"block",for:""},[d("Имя:"),s("span",{class:"font-bold text-red-600"},"*")],-1)),m(s("input",{type:"text",class:"form-controls",required:"","onUpdate:modelValue":e[0]||(e[0]=r=>t.item.name=r)},null,512),[[p,t.item.name]]),l(i,{name:"name",errors:t.errors},null,8,["errors"])]),s("div",C,[e[8]||(e[8]=s("label",{class:"block",for:""},[d("Логин:"),s("span",{class:"font-bold text-red-600"},"*")],-1)),m(s("input",{type:"text",class:"form-controls",required:"","onUpdate:modelValue":e[1]||(e[1]=r=>t.item.login=r)},null,512),[[p,t.item.login]]),l(i,{name:"login",errors:t.errors},null,8,["errors"])]),s("div",F,[e[9]||(e[9]=s("label",{class:"block",for:""},"Пароль:",-1)),m(s("input",{type:"password",class:"form-controls","onUpdate:modelValue":e[2]||(e[2]=r=>t.item.password=r),minlength:"8",onClick:e[3]||(e[3]=r=>r.target.type="text"),onBlur:e[4]||(e[4]=r=>r.target.type="password")},null,544),[[p,t.item.password]]),l(i,{name:"password",errors:t.errors},null,8,["errors"])]),s("div",q,[e[10]||(e[10]=s("label",{class:"block",for:"telegram_chat_id"},[d("Telegram chat ID:"),s("span",{class:"font-bold text-red-600"},"*")],-1)),m(s("input",{id:"telegram_chat_id",type:"number",class:"form-controls","onUpdate:modelValue":e[5]||(e[5]=r=>t.item.telegram_chat_id=r)},null,512),[[p,t.item.telegram_chat_id]]),l(i,{name:"telegram_chat_id",errors:t.errors},null,8,["errors"])]),s("div",H,[s("div",N,[l(c,{class:"dash-btn !bg-gray-300 !text-gray-800",href:o.route("admins.index")},{default:f(()=>e[11]||(e[11]=[d("Назад")])),_:1},8,["href"]),s("button",{class:"dash-btn",href:o.route("admins.index")}," Сохранить ",8,S)])])],32)]),_:1})],64)}const P=L(E,[["render",T]]);export{P as default};
