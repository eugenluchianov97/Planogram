import{D as h}from"./DashboardLayout-CbK7N0V9.js";import{Z as y,p as l,e as _,o as w,b as t,w as m,a as e,i as k,l as d,g as a,q as p,y as V,z as C,F as q,s as B,x as D}from"./app-DoIGVFwv.js";import{S as L}from"./sweetalert2-CSiI7rv6.js";import{I as E}from"./IError-gG1LXeg_.js";import{C as H}from"./vue-select-dStCMpHa.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={components:{DashboardLayout:h,vSelect:H,IError:E,Head:y},props:{shops:{type:Array,default:[]}},data(){return{item:{name:"",login:"",password:"",shops:[]},errors:[]}},mounted(){},methods:{submit(){B.post(route("managers.store"),this.item).then(n=>{L.fire({title:"Пользователь успешно создан",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,icon:"success",toast:!0,position:"top-end"}),D.visit(route("managers.index"),{replace:!0})}).catch(n=>{this.errors=n.response.data.errors})}}},U={class:""},F={class:""},N={class:""},M={class:""},P=["required"],T={class:"col-span-2 border-t-2 pt-3"},j={class:"flex items-center justify-end gap-x-3"},z=["href"];function A(n,s,u,Z,r,f){const b=l("Head"),i=l("IError"),c=l("v-select"),g=l("Link"),x=l("DashboardLayout");return w(),_(q,null,[t(b,{title:"Добавить менеджера"}),t(x,null,{default:m(()=>[s[12]||(s[12]=e("div",{class:"mb-6"},[e("h2",{class:"font-bold text-xl"},"Добавить менеджера")],-1)),e("form",{class:"sm:grid sm:grid-cols-2 gap-6",onSubmit:s[6]||(s[6]=k(o=>f.submit(),["prevent"]))},[e("div",U,[s[7]||(s[7]=e("label",{class:"block",for:""},[a("Имя: "),e("span",{class:"font-bold text-red-600"},"*")],-1)),d(e("input",{type:"text",class:"form-controls",required:"","onUpdate:modelValue":s[0]||(s[0]=o=>r.item.name=o)},null,512),[[p,r.item.name]]),t(i,{name:"name",errors:r.errors},null,8,["errors"])]),e("div",F,[s[8]||(s[8]=e("label",{class:"block",for:""},[a("Логин:"),e("span",{class:"font-bold text-red-600"},"*")],-1)),d(e("input",{type:"text",class:"form-controls",required:"","onUpdate:modelValue":s[1]||(s[1]=o=>r.item.login=o)},null,512),[[p,r.item.login]]),t(i,{name:"login",errors:r.errors},null,8,["errors"])]),e("div",N,[s[9]||(s[9]=e("label",{class:"block",for:""},[a("Пароль:"),e("span",{class:"font-bold text-red-600"},"*")],-1)),d(e("input",{type:"password",class:"form-controls",required:"","onUpdate:modelValue":s[2]||(s[2]=o=>r.item.password=o),minlength:"8",onClick:s[3]||(s[3]=o=>o.target.type="text"),onBlur:s[4]||(s[4]=o=>o.target.type="password")},null,544),[[p,r.item.password]]),t(i,{name:"password",errors:r.errors},null,8,["errors"])]),e("div",M,[s[10]||(s[10]=e("label",{class:"block",for:""},[a("Выберите торговые точки:"),e("span",{class:"font-bold text-red-600"},"*")],-1)),t(c,{options:u.shops,label:"name",searchable:!0,multiple:"",clearable:!1,modelValue:r.item.shops,"onUpdate:modelValue":s[5]||(s[5]=o=>r.item.shops=o)},{search:m(({attributes:o,events:v})=>[e("input",V({class:"vs__search",required:r.item.shops.length===0},o,C(v,!0)),null,16,P)]),_:1},8,["options","modelValue"]),t(i,{name:"shops",errors:r.errors},null,8,["errors"])]),e("div",T,[e("div",j,[t(g,{class:"dash-btn !bg-gray-300 !text-gray-800",href:n.route("managers.index")},{default:m(()=>s[11]||(s[11]=[a("Назад")])),_:1},8,["href"]),e("button",{class:"dash-btn",href:n.route("managers.index")}," Сохранить ",8,z)])])],32)]),_:1})],64)}const W=I(S,[["render",A]]);export{W as default};
