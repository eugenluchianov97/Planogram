import{D as _}from"./DashboardLayout-CbK7N0V9.js";import{Z as y,p as m,e as v,o as w,b as l,w as f,a as s,i as h,l as d,g as n,q as p,F as k,s as D,x as V}from"./app-DoIGVFwv.js";import{S as B}from"./sweetalert2-CSiI7rv6.js";import{I}from"./IError-gG1LXeg_.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const C={components:{DashboardLayout:_,IError:I,Head:y},props:{roles:{type:Array,default:[]}},data(){return{item:{name:"",login:"",password:"",telegram_chat_id:null},errors:[]}},mounted(){},methods:{changeImage(o,e){if(o.target.files.length>0){var a=o.target;if(a.files&&a.files[0]){var u=new FileReader;u.onload=t=>{this.item.image=t.target.result},u.readAsDataURL(a.files[0])}}},submit(){D.post(route("admins.store"),this.item).then(o=>{B.fire({title:"Администратор успешно создан",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,icon:"success",toast:!0,position:"top-end"}),V.visit(route("admins.index"),{replace:!0})}).catch(o=>{this.errors=o.response.data.errors})}}},U={class:""},q={class:""},E={class:""},F={class:""},H={class:"col-span-2 border-t-2 pt-3"},N={class:"flex items-center justify-end gap-x-3"},S=["href"];function T(o,e,a,u,t,g){const b=m("Head"),i=m("IError"),c=m("Link"),x=m("DashboardLayout");return w(),v(k,null,[l(b,{title:"Добавить администратор"}),l(x,null,{default:f(()=>[e[12]||(e[12]=s("div",{class:"mb-6"},[s("h2",{class:"font-bold text-xl"},"Добавить администратор")],-1)),s("form",{class:"sm:grid sm:grid-cols-2 gap-6",onSubmit:e[6]||(e[6]=h(r=>g.submit(),["prevent"]))},[s("div",U,[e[7]||(e[7]=s("label",{class:"block",for:""},[n("Имя: "),s("span",{class:"font-bold text-red-600"},"*")],-1)),d(s("input",{type:"text",class:"form-controls",required:"","onUpdate:modelValue":e[0]||(e[0]=r=>t.item.name=r)},null,512),[[p,t.item.name]]),l(i,{name:"name",errors:t.errors},null,8,["errors"])]),s("div",q,[e[8]||(e[8]=s("label",{class:"block",for:""},[n("Логин:"),s("span",{class:"font-bold text-red-600"},"*")],-1)),d(s("input",{type:"text",class:"form-controls",required:"","onUpdate:modelValue":e[1]||(e[1]=r=>t.item.login=r)},null,512),[[p,t.item.login]]),l(i,{name:"login",errors:t.errors},null,8,["errors"])]),s("div",E,[e[9]||(e[9]=s("label",{class:"block",for:""},[n("Пароль:"),s("span",{class:"font-bold text-red-600"},"*")],-1)),d(s("input",{type:"password",class:"form-controls",required:"","onUpdate:modelValue":e[2]||(e[2]=r=>t.item.password=r),minlength:"8",onClick:e[3]||(e[3]=r=>r.target.type="text"),onBlur:e[4]||(e[4]=r=>r.target.type="password")},null,544),[[p,t.item.password]]),l(i,{name:"password",errors:t.errors},null,8,["errors"])]),s("div",F,[e[10]||(e[10]=s("label",{class:"block",for:"telegram_chat_id"},[n("Telegram chat ID:"),s("span",{class:"font-bold text-red-600"},"*")],-1)),d(s("input",{id:"telegram_chat_id",type:"number",class:"form-controls","onUpdate:modelValue":e[5]||(e[5]=r=>t.item.telegram_chat_id=r)},null,512),[[p,t.item.telegram_chat_id]]),l(i,{name:"telegram_chat_id",errors:t.errors},null,8,["errors"])]),s("div",H,[s("div",N,[l(c,{class:"dash-btn !bg-gray-300 !text-gray-800",href:o.route("admins.index")},{default:f(()=>e[11]||(e[11]=[n("Назад")])),_:1},8,["href"]),s("button",{class:"dash-btn",href:o.route("admins.index")}," Сохранить ",8,S)])])],32)]),_:1})],64)}const Z=L(C,[["render",T]]);export{Z as default};
